{"version":3,"sources":["webpack:///js/1.8c3ae747f6d669441070.js","webpack:///./src/views/Announced.vue","webpack:///Announced.vue","webpack:///./src/views/Announced.vue?0cfd"],"names":["webpackJsonp","41","module","exports","__webpack_require__","__vue_script__","__vue_template__","__vue_styles__","__esModule","default","__vue_options__","options","template","computed","Object","keys","forEach","key","42","43","$","_interopRequireDefault","obj","defineProperty","value","_mockjs","_mockjs2","_Header","_Header2","_Loading","_Loading2","mock","retcode","retmsg","data","total","records","page","rows|10","id|+1","caipiaotype","periods|+1","downtime","publishtime|+10","title","cover","wuser","lists","scroll","loading","route","transition","self","this","getAjaxData","window","on","getScrollData","deactivate","off","next","ready","methods","$http","get","then","response","loadshow","jsonData","rows","concat","totalheight","parseFloat","height","scrollTop","document","runtime","el","timer","components","appheader","Loading","call","44"],"mappings":"AAAAA,cAAc,EAAE,KAEVC,GACA,SAASC,EAAQC,EAASC,GCHhC,GAAAC,GAAAC,EACAC,IACAH,GAAA,IACAC,EAAAD,EAAA,IACAE,EAAAF,EAAA,IACAF,EAAAC,QAAAE,MACAH,EAAAC,QAAAK,aAAAN,EAAAC,QAAAD,EAAAC,QAAAM,QACA,IAAAC,GAAA,kBAAAR,GAAAC,QAAAD,EAAAC,QAAAQ,UAAAT,EAAAC,QAAAQ,YAAoHT,EAAAC,OACpHG,KACAI,EAAAE,SAAAN,GAEAI,EAAAG,WAAAH,EAAAG,aACAC,OAAAC,KAAAR,GAAAS,QAAA,SAAAC,GACA,GAAAf,GAAAK,EAAAU,EACAP,GAAAG,SAAAI,GAAA,WAA6C,MAAAf,ODWvCgB,GACA,SAAShB,EAAQC,KAMjBgB,GACA,SAASjB,EAAQC,EAASC,IAEH,SAASgB,GAAI,YAkBzC,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAId,WAAac,GAAQb,QAASa,GAhBvFR,OAAOS,eAAepB,EAAS,cAC3BqB,OAAO,GEYZ,IAAAC,GAAArB,EAAA,IFPKsB,EAAWL,EAAuBI,GE6BvCE,EAAAvB,EAAA,IFzBKwB,EAAWP,EAAuBM,GE4BvCE,EAAAzB,EAAA,IFxBK0B,EAAYT,EAAuBQ,EECxCH,GAAAjB,QAAAsB,KAAA,gBFIKC,QEFL,EFGKC,OEFL,OFGKC,MACIC,MEFT,EFGSC,QEFT,GFGSC,KEFT,EFGSC,YACIC,QEFb,EFGaC,YEFb,iBFGaC,aEFb,WFGaC,SEFb,+BFGaC,kBEFb,gBFGaC,MEFb,oBFGaC,MEFb,kCFGaC,MEAb,mEFKC3C,EAAQM,SACJyB,KAAM,WACF,OACIa,SACAV,KECb,EFAaW,QECb,EFAaC,SEEb,IFEKC,OACIhB,KAAM,SAAciB,GAChB,GAAIC,GEEjBC,IFAaD,GAAKE,YEElBH,GFAa/B,EAAEmC,QAAQC,GAAG,SAAU,SAAUL,GAC7BC,EAAKK,cECtBN,MFESO,WAAY,SAAoBP,GAC5B,GAAIC,GECjBC,IFAaD,GAAKL,SACLK,EAAKf,KEClB,EFAajB,EAAEmC,QAAQI,IECvB,UFAaR,EECbS,SFEKC,MAAO,aAEPC,SACIR,YAAa,SAAqBH,GAC9B,GAAIC,GEIjBC,IFHaD,GAAKW,MAAMC,IAAI,gBAAgBC,KAAK,SAAUC,GAC1Cd,EAAKH,SEItB,CFHiB,IAAIf,GAAOgC,EEI5BhC,IFFiB,IADAkB,EAAKe,UEItB,EFHqC,GAAhBjC,EAAKF,QEI1B,CFHqB,GAAIoC,GAAWlC,EAAKA,KEIzCmC,IFHuC,KAAdjB,EAAKf,KACLe,EAAKL,MEI9BqB,EFFyBhB,EAAKL,MAAQK,EAAKL,MAAMuB,OEIjDF,KFDgB,SAAUF,OAGjBT,cAAe,SAAuBN,GAClC,GAAIC,GEYjBC,IFXa,IAAID,EAAKJ,OEatB,CFXiB,GAAIuB,GAAcC,WAAWpD,EAAEmC,QAAQkB,UAAYD,WAAWpD,EAAEmC,QEYjFmB,YFXqBtD,GAAEuD,UAAUF,UAAYF,EAAc,MACtCnB,EAAKJ,QEY1B,EFXqBI,EEcrBf,OFZyBe,EAAKf,MAAQ,GACbe,EAAKE,YEc9BH,MFTSyB,QAAS,SAAiBC,EAAIC,MAElCC,YE6CLC,UAAApD,EAAAnB,QAEAwE,QAAAnD,EAAArB,YF1C8ByE,KAAK/E,EAASC,EAAoB,KAI1D+E,GACA,SAASjF,EAAQC,GGtJvBD,EAAAC,QAAA","file":"js/1.8c3ae747f6d669441070.js","sourcesContent":["webpackJsonp([1,18],{\n\n/***/ 41:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\tvar __vue_styles__ = {}\n\t__webpack_require__(42)\n\t__vue_script__ = __webpack_require__(43)\n\t__vue_template__ = __webpack_require__(44)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\n\tif (__vue_template__) {\n\t__vue_options__.template = __vue_template__\n\t}\n\tif (!__vue_options__.computed) __vue_options__.computed = {}\n\tObject.keys(__vue_styles__).forEach(function (key) {\n\tvar module = __vue_styles__[key]\n\t__vue_options__.computed[key] = function () { return module }\n\t})\n\n\n/***/ },\n\n/***/ 42:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 43:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _mockjs = __webpack_require__(10);\n\t\n\tvar _mockjs2 = _interopRequireDefault(_mockjs);\n\t\n\tvar _Header = __webpack_require__(11);\n\t\n\tvar _Header2 = _interopRequireDefault(_Header);\n\t\n\tvar _Loading = __webpack_require__(15);\n\t\n\tvar _Loading2 = _interopRequireDefault(_Loading);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_mockjs2.default.mock('reslist.json', {\n\t    retcode: 1,\n\t    retmsg: '查询成功',\n\t    data: {\n\t        'total': 1,\n\t        'records': 10,\n\t        'page': 1,\n\t        'rows|10': [{\n\t            'id|+1': 1,\n\t            'caipiaotype': '@natural(1, 3)',\n\t            'periods|+1': '11000002',\n\t            'downtime': '@natural(14592352, 64592352)',\n\t            'publishtime|+10': '1460448164569',\n\t            'title': '@csentence(6, 10)',\n\t            'cover': '@image(200x200, #ff6666, Hello)',\n\t            \"wuser\": \"{\\\"nickname\\\":\\\"抽奖小王子\\\",\\\"buycount\\\":1199,\\\"bingocode\\\":\\\"10001167\\\"}\"\n\t        }]\n\t    }\n\t});\n\t\n\texports.default = {\n\t    data: function data() {\n\t        return {\n\t            lists: [],\n\t            page: 1,\n\t            scroll: true,\n\t            loading: true\n\t        };\n\t    },\n\t\n\t    route: {\n\t        data: function data(transition) {\n\t            var self = this;\n\t\n\t            self.getAjaxData(transition);\n\t\n\t            $(window).on('scroll', function (transition) {\n\t                self.getScrollData(transition);\n\t            });\n\t        },\n\t        deactivate: function deactivate(transition) {\n\t            var self = this;\n\t            self.lists = [];\n\t            self.page = 1;\n\t            $(window).off('scroll');\n\t            transition.next();\n\t        }\n\t    },\n\t    ready: function ready() {},\n\t\n\t    methods: {\n\t        getAjaxData: function getAjaxData(transition) {\n\t            var self = this;\n\t            self.$http.get('reslist.json').then(function (response) {\n\t                self.loading = false;\n\t                var data = response.data;\n\t                self.loadshow = true;\n\t                if (data.retcode == 1) {\n\t                    var jsonData = data.data.rows;\n\t                    if (self.page === 1) {\n\t                        self.lists = jsonData;\n\t                    } else {\n\t                        self.lists = self.lists.concat(jsonData);\n\t                    }\n\t                }\n\t            }, function (response) {});\n\t        },\n\t\n\t        getScrollData: function getScrollData(transition) {\n\t            var self = this;\n\t            if (self.scroll) {\n\t\n\t                var totalheight = parseFloat($(window).height()) + parseFloat($(window).scrollTop());\n\t                if ($(document).height() <= totalheight + 200) {\n\t                    self.scroll = false;\n\t                    self.page++;\n\t\n\t                    if (self.page <= 3) {\n\t                        self.getAjaxData(transition);\n\t                    }\n\t                }\n\t            }\n\t        },\n\t        runtime: function runtime(el, timer) {}\n\t    },\n\t    components: {\n\t        appheader: _Header2.default,\n\t        Loading: _Loading2.default\n\t    }\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(9)))\n\n/***/ },\n\n/***/ 44:\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div class=indiana> <appheader title=最新揭晓></appheader> <section class=announced-container v-if=!loading> <ul class=floatBox> <li v-for=\\\"item in lists\\\"> <a v-link=\\\"{name:'goods',query:{id:item.id}}\\\"> <img :src=item.cover :style=\\\"{ width:item.imgwh +'px',height:item.imgwh +'px' }\\\"> <div class=info> <p class=\\\"title nowrap\\\">{{item.title}}</p> <p class=issue>期号：{{item.periods}}</p> <div class=msg v-if=\\\"item.caipiaotype == 2\\\"> <span class=txt v-for=\\\"(key, val) in item.wuser | jsonFormat\\\"> <label v-if=\\\"key == 'nickname'\\\">获得者：</label> <label v-if=\\\"key == 'buycount'\\\">参与人次：</label> <label v-if=\\\"key == 'bingocode'\\\">幸运号码：</label> {{val}} </span> <span class=txt>揭晓时间：{{item.publishtime | timeago }}</span> </div> <div class=msg v-if=\\\"item.caipiaotype == 1\\\"> <span class=\\\"btn reds\\\">即将揭晓</span> <span class=time id={{item.id}}>{{runtime(item.id,item.downtime)}}</span> </div> <div class=msg v-if=\\\"item.caipiaotype == 0\\\"> <span class=\\\"btn greens\\\">正在揭晓</span> <span class=time id={{item.id}} ->{{item.downtime }}</span> </div> </div> </a> </li> </ul> </section> <loading :show=loading></loading> </div> \";\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// js/1.8c3ae747f6d669441070.js","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\nrequire(\"!!../../node_modules/.1.0.1@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/.8.7.0@vue-loader/lib/style-rewriter.js!sass-loader?sourceMap!../../node_modules/.8.7.0@vue-loader/lib/selector.js?type=style&index=0!./Announced.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!../../node_modules/.8.7.0@vue-loader/lib/selector.js?type=script&index=0!./Announced.vue\")\n__vue_template__ = require(\"!!vue-html-loader!../../node_modules/.8.7.0@vue-loader/lib/selector.js?type=template&index=0!./Announced.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Announced.vue\n// module id = 41\n// module chunks = 1","<template>\n\n    <div class=\"indiana\">\n\n        <!-- 头部 -->\n        <appheader title=\"最新揭晓\"></appheader>\n\n        <!-- 列表区 -->\n        <section class=\"announced-container\" v-if=\"!loading\">\n            <ul class=\"floatBox\">\n                <li v-for=\"item in lists\" >\n                  <a v-link=\"{name:'goods',query:{id:item.id}}\">\n                     <img :src=\"item.cover\" :style=\"{ width:item.imgwh +'px',height:item.imgwh +'px' }\" >\n                     <div class=\"info\">\n                        <p class=\"title nowrap\">{{item.title}}</p>\n                        <p class=\"issue\">期号：{{item.periods}}</p>\n                        <div class=\"msg\" v-if=\"item.caipiaotype == 2\">\n                            <span class=\"txt\" v-for=\"(key, val) in item.wuser | jsonFormat\" >\n                                <label v-if=\"key == 'nickname'\">获得者：</label>\n                                <label v-if=\"key == 'buycount'\">参与人次：</label>\n                                <label v-if=\"key == 'bingocode'\">幸运号码：</label>\n                                {{val}}\n                            </span>\n                            <span class=\"txt\">揭晓时间：{{item.publishtime | timeago }}</span>\n                        </div>\n\n                        <div class=\"msg\" v-if=\"item.caipiaotype == 1\">\n                            <span class=\"btn reds\">即将揭晓</span>\n                            <span class=\"time\" id=\"{{item.id}}\">{{runtime(item.id,item.downtime)}}</span>\n                        </div>\n\n                        <div class=\"msg\" v-if=\"item.caipiaotype == 0\">\n                            <span class=\"btn greens\">正在揭晓</span>\n                            <span class=\"time\" id=\"{{item.id}}\" ->{{item.downtime }}</span>\n                        </div>\n                      </div>\n                    </a>\n                </li>\n\n            </ul>\n        </section>\n\n        <!-- Loading -->\n        <loading :show=\"loading\"></loading>\n\n   </div>\n\n</template>\n\n<script>\n    import Mock        from 'mockjs';\n    // 生成商品列数据\n    Mock.mock('reslist.json', {\n      retcode: 1,\n      retmsg: '查询成功',\n      data: {\n        'total': 1,\n        'records': 10,\n        'page': 1,\n        'rows|10': [{\n            'id|+1': 1,\n            'caipiaotype':'@natural(1, 3)',\n            'periods|+1':'11000002',\n            'downtime':'@natural(14592352, 64592352)',\n            'publishtime|+10':'1460448164569',\n            'title': '@csentence(6, 10)',\n            'cover': '@image(200x200, #ff6666, Hello)',\n            \"wuser\": \"{\\\"nickname\\\":\\\"抽奖小王子\\\",\\\"buycount\\\":1199,\\\"bingocode\\\":\\\"10001167\\\"}\"\n        }]\n      }\n    })\n\n    import appheader from './common/Header.vue';\n    import Loading      from  '../components/Loading.vue';\n\n    export default {\n        data() {\n         return{\n           lists       :   [],\n           page        :   1,        //当前页数\n           scroll      :   true,     //用于判断是否滚动\n           loading     :   true\n         }\n        },\n        route:{\n\n          data (transition) {\n            var self = this;\n\n            self.getAjaxData(transition);\n            //滚动加载\n            $(window).on('scroll', (transition) => {\n                self.getScrollData(transition);\n            });\n          },\n          deactivate (transition){\n             var self = this;\n             self.lists = [];\n             self.page = 1;\n             $(window).off('scroll');\n             transition.next();\n          }\n\n        },\n        ready(){\n        },\n        methods:{\n\n            //请求数据\n            getAjaxData:function(transition){\n                let self = this;\n                self.$http.get('reslist.json').then(function (response) {\n                    self.loading = false;\n                    let data = response.data;\n                    self.loadshow = true;\n                    if(data.retcode == 1){\n                          let jsonData = data.data.rows;\n                          if (self.page === 1) {\n                             self.lists = jsonData\n                          }else{\n                              self.lists = self.lists.concat(jsonData);\n                          }\n                      }\n\n                }, function (response) {\n                    // error callback\n                });\n\n\n\n\n            },\n\n             //滚动加载数据\n            getScrollData (transition){\n                let self = this;\n                if(self.scroll){\n\n                    let totalheight = parseFloat($(window).height()) + parseFloat($(window).scrollTop());\n                    if ($(document).height() <= totalheight + 200) {\n                         self.scroll = false;\n                         self.page++;\n\n\n                         if(self.page <= 3){\n                              // console.log(self.page);\n                           self.getAjaxData(transition)\n                         }\n                    }\n                }\n            },\n\n            //倒计时\n            runtime(el,timer){\n\n            //     let timestamp = timer;\n            //     let isInter;\n\n            //     function interval(){\n            //       if(timestamp<=0){\n            //         console.count();\n            //         clearInterval(isInter);\n            //         $('#'+el).text(\"正在计算中，请稍等...\");\n            //         return;\n            //       }\n\n            //       let hm = Math.floor(timestamp % 1000 /10);\n            //       let sec = Math.floor(timestamp / 1000 % 60);\n            //       let mini = Math.floor(timestamp / (60*1000));\n\n            //       hm = hm < 10 ? \"0\" + hm : hm;\n            //       sec = sec < 10 ? \"0\" + sec : sec;\n            //       mini = mini < 10 ? \"0\" + mini : mini;\n            //       let text = mini + \":\" + sec + \":\" + hm;\n\n            //       setTimeout(interval, 1);\n            //       $('#'+el).text(text);\n            //       timestamp--;\n            //     }\n\n            //     isInter = setInterval(interval, 1000);\n            }\n        },\n        components:{\n           appheader,\n           Loading\n        }\n    }\n</script>\n\n\n<style lang=\"sass\" >\n\n.indiana{\n    bottom:55px;\n}\n\n.floatBox{\n    >li:nth-child(even){\n      &:after {\n          content: \" \";\n          position: absolute;\n          left: 0;\n          top: 0;\n          width: 1px;\n          height: 100%;\n          border-right: 1px solid #d9d9d9;\n          color: #d9d9d9;\n          -webkit-transform-origin: 0 0;\n          transform-origin: 0 0;\n          -webkit-transform: scaleX(.5);\n          transform: scaleX(.5);\n          left: 0;\n      }\n    }\n    >li{\n      position: relative;\n      width: 50%;\n      -webkit-box-sizing: border-box;\n      -ms-box-sizing: border-box;\n      -o-box-sizing: border-box;\n      box-sizing: border-box;\n      float: left;\n\n\n      &:before {\n          content: \" \";\n          position: absolute;\n          left: 0;\n          top: 0;\n          width: 100%;\n          height: 1px;\n          border-top: 1px solid #d9d9d9;\n          color: #d9d9d9;\n          -webkit-transform-origin: 0 0;\n          transform-origin: 0 0;\n          -webkit-transform: scaleY(.5);\n          transform: scaleY(.5);\n          left: 0;\n      }\n\n      a{\n        display: block;\n        color: #333;\n        background: #fff;\n        padding: 10px;\n      }\n     img{\n      width: 100%;min-height:125px;\n     }\n     .info{\n       background: #fff;\n       min-height: 93px;\n\n      .title{\n        font-size: 14px;line-height: 1.4;\n      }\n      .issue{\n        font-size: 12px;\n      }\n\n      .msg{\n        height:60px;\n        .time{\n          display: block;\n          font-weight: 600;\n          font-size: 18px;\n          margin-top: 5px;\n        }\n\n        .btn{\n          position: relative;\n          display: inline-block;\n          border-style: solid;\n          border-width: 1px;\n          width: 65px;\n          padding:2px 0;\n          font-size: 12px;\n          text-align: center;\n          border-radius: 3px;\n        }\n\n        .btn.reds{\n           color:#ff6666;\n           border-color:#ff6666;\n        }\n        .btn.greens{\n           color:#39b939;\n           border-color:#39b939;\n        }\n\n        .match{\n          display: block;\n          font-weight: 600;\n          line-height: 25px;\n        }\n        .txt{\n          display:block;\n          font-size: 12px;\n          line-height: 1.2;\n        }\n      }\n     }\n    }\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Announced.vue?122b8db6","module.exports = \" <div class=indiana> <appheader title=最新揭晓></appheader> <section class=announced-container v-if=!loading> <ul class=floatBox> <li v-for=\\\"item in lists\\\"> <a v-link=\\\"{name:'goods',query:{id:item.id}}\\\"> <img :src=item.cover :style=\\\"{ width:item.imgwh +'px',height:item.imgwh +'px' }\\\"> <div class=info> <p class=\\\"title nowrap\\\">{{item.title}}</p> <p class=issue>期号：{{item.periods}}</p> <div class=msg v-if=\\\"item.caipiaotype == 2\\\"> <span class=txt v-for=\\\"(key, val) in item.wuser | jsonFormat\\\"> <label v-if=\\\"key == 'nickname'\\\">获得者：</label> <label v-if=\\\"key == 'buycount'\\\">参与人次：</label> <label v-if=\\\"key == 'bingocode'\\\">幸运号码：</label> {{val}} </span> <span class=txt>揭晓时间：{{item.publishtime | timeago }}</span> </div> <div class=msg v-if=\\\"item.caipiaotype == 1\\\"> <span class=\\\"btn reds\\\">即将揭晓</span> <span class=time id={{item.id}}>{{runtime(item.id,item.downtime)}}</span> </div> <div class=msg v-if=\\\"item.caipiaotype == 0\\\"> <span class=\\\"btn greens\\\">正在揭晓</span> <span class=time id={{item.id}} ->{{item.downtime }}</span> </div> </div> </a> </li> </ul> </section> <loading :show=loading></loading> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.1.2.3@vue-html-loader!./~/.8.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/views/Announced.vue\n// module id = 44\n// module chunks = 1"],"sourceRoot":""}